{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport sortProducts from \"../helpers/sortProducts\";\nimport firstVariant from \"../helpers/firstVariant\";\nconst allProductsSlice = createSlice({\n  name: \"all-products\",\n  initialState: {\n    products: [],\n    optionSortSetup: {\n      orders: [\"up\", \"down\"],\n      values: [\"popularity\", \"price\", \"author\", \"name\", \"date released\"]\n    }\n  },\n  reducers: {\n    insertProducts(state, action) {\n      state.products = action.payload;\n    },\n\n    sortProducts(state, action) {\n      switch (action.payload.type) {\n        case \"price\":\n          const indexOfLowestPriceVariant = el => `variants[${el.variants.indexOf(firstVariant(el.variants, \"price\"))}].price`;\n\n          sortProducts(state.products, indexOfLowestPriceVariant, action.payload.order);\n          break;\n\n        case \"popularity\":\n          sortProducts(state.products, () => \"sold\", action.payload.order);\n          break;\n\n        case \"author\":\n          sortProducts(state.products, () => \"author\", action.payload.order);\n          break;\n\n        case \"name\":\n          sortProducts(state.products, () => \"name\", action.payload.order);\n          break;\n\n        case \"date released\":\n          sortProducts(state.products, () => \"since\", action.payload.order);\n          break;\n      }\n    },\n\n    likeProduct(state, action) {\n      console.log(`id liked: ${action.payload}`);\n    },\n\n    buyProduct(state, payload) {}\n\n  }\n});\nexport const allProductsActions = allProductsSlice.actions;\nexport default allProductsSlice;","map":{"version":3,"names":["createSlice","sortProducts","firstVariant","allProductsSlice","name","initialState","products","optionSortSetup","orders","values","reducers","insertProducts","state","action","payload","type","indexOfLowestPriceVariant","el","variants","indexOf","order","likeProduct","console","log","buyProduct","allProductsActions","actions"],"sources":["C:/Users/micha/Documents/REACT/ABSTRAKT-APP/app/src/store/all-products-slice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport sortProducts from \"../helpers/sortProducts\";\r\nimport firstVariant from \"../helpers/firstVariant\";\r\n\r\nconst allProductsSlice = createSlice({\r\n  name: \"all-products\",\r\n  initialState: {\r\n    products: [],\r\n    optionSortSetup: {\r\n      orders: [\"up\", \"down\"],\r\n      values: [\"popularity\", \"price\", \"author\", \"name\", \"date released\"],\r\n    },\r\n  },\r\n  reducers: {\r\n    insertProducts(state, action) {\r\n      state.products = action.payload\r\n    },\r\n    sortProducts(state, action) {\r\n      switch (action.payload.type) {\r\n        case \"price\":\r\n          const indexOfLowestPriceVariant = (el) =>\r\n            `variants[${el.variants.indexOf(\r\n              firstVariant(el.variants, \"price\")\r\n            )}].price`;\r\n\r\n          sortProducts(\r\n            state.products,\r\n            indexOfLowestPriceVariant,\r\n            action.payload.order\r\n          );\r\n          break;\r\n        case \"popularity\":\r\n          sortProducts(state.products, () => \"sold\", action.payload.order);\r\n          break;\r\n        case \"author\":\r\n          sortProducts(state.products, () => \"author\", action.payload.order);\r\n          break;\r\n        case \"name\":\r\n          sortProducts(state.products, () => \"name\", action.payload.order);\r\n          break;\r\n        case \"date released\":\r\n          sortProducts(state.products, () => \"since\", action.payload.order);\r\n          break;\r\n      }\r\n    },\r\n    likeProduct(state, action) {\r\n      console.log(`id liked: ${action.payload}`);\r\n    },\r\n    buyProduct(state, payload) {},\r\n  },\r\n});\r\n\r\nexport const allProductsActions = allProductsSlice.actions;\r\n\r\nexport default allProductsSlice;\r\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AAEA,MAAMC,gBAAgB,GAAGH,WAAW,CAAC;EACnCI,IAAI,EAAE,cAD6B;EAEnCC,YAAY,EAAE;IACZC,QAAQ,EAAE,EADE;IAEZC,eAAe,EAAE;MACfC,MAAM,EAAE,CAAC,IAAD,EAAO,MAAP,CADO;MAEfC,MAAM,EAAE,CAAC,YAAD,EAAe,OAAf,EAAwB,QAAxB,EAAkC,MAAlC,EAA0C,eAA1C;IAFO;EAFL,CAFqB;EASnCC,QAAQ,EAAE;IACRC,cAAc,CAACC,KAAD,EAAQC,MAAR,EAAgB;MAC5BD,KAAK,CAACN,QAAN,GAAiBO,MAAM,CAACC,OAAxB;IACD,CAHO;;IAIRb,YAAY,CAACW,KAAD,EAAQC,MAAR,EAAgB;MAC1B,QAAQA,MAAM,CAACC,OAAP,CAAeC,IAAvB;QACE,KAAK,OAAL;UACE,MAAMC,yBAAyB,GAAIC,EAAD,IAC/B,YAAWA,EAAE,CAACC,QAAH,CAAYC,OAAZ,CACVjB,YAAY,CAACe,EAAE,CAACC,QAAJ,EAAc,OAAd,CADF,CAEV,SAHJ;;UAKAjB,YAAY,CACVW,KAAK,CAACN,QADI,EAEVU,yBAFU,EAGVH,MAAM,CAACC,OAAP,CAAeM,KAHL,CAAZ;UAKA;;QACF,KAAK,YAAL;UACEnB,YAAY,CAACW,KAAK,CAACN,QAAP,EAAiB,MAAM,MAAvB,EAA+BO,MAAM,CAACC,OAAP,CAAeM,KAA9C,CAAZ;UACA;;QACF,KAAK,QAAL;UACEnB,YAAY,CAACW,KAAK,CAACN,QAAP,EAAiB,MAAM,QAAvB,EAAiCO,MAAM,CAACC,OAAP,CAAeM,KAAhD,CAAZ;UACA;;QACF,KAAK,MAAL;UACEnB,YAAY,CAACW,KAAK,CAACN,QAAP,EAAiB,MAAM,MAAvB,EAA+BO,MAAM,CAACC,OAAP,CAAeM,KAA9C,CAAZ;UACA;;QACF,KAAK,eAAL;UACEnB,YAAY,CAACW,KAAK,CAACN,QAAP,EAAiB,MAAM,OAAvB,EAAgCO,MAAM,CAACC,OAAP,CAAeM,KAA/C,CAAZ;UACA;MAxBJ;IA0BD,CA/BO;;IAgCRC,WAAW,CAACT,KAAD,EAAQC,MAAR,EAAgB;MACzBS,OAAO,CAACC,GAAR,CAAa,aAAYV,MAAM,CAACC,OAAQ,EAAxC;IACD,CAlCO;;IAmCRU,UAAU,CAACZ,KAAD,EAAQE,OAAR,EAAiB,CAAE;;EAnCrB;AATyB,CAAD,CAApC;AAgDA,OAAO,MAAMW,kBAAkB,GAAGtB,gBAAgB,CAACuB,OAA5C;AAEP,eAAevB,gBAAf"},"metadata":{},"sourceType":"module"}